int printf(string format, ...);
int puts(string s);
void* malloc(int size);

template <T> class List {
    T[] arr;
    int count;
    int capacity;

    void init() {
        arr = new T[3];
        count = 0;
        capacity = 3;
    }

    void expand() {
        capacity = capacity * 2;
        T[] y = new T[capacity];
        int n = 0;
        while (n < count) {
            y[n] = arr[n];
            n = n + 1;
        }
        arr = y;
    }

    void add(T value) {
        if (count >= capacity) {
            expand();
        }
        arr[count] = value;
        count = count + 1;
    }

    void printValues() {
        int n = 0;
        while (n < count) {
            printValue(arr[n]);
            n = n + 1;
        }
    }
}

class Vec2i {
    int x;
    int y;

    void init(int a, int b) {
        x = a;
        y = b;
    }
}

Vec2i* __vec_pool;
int __vec_next = 0;

int makeVec2i(int x, int y) {
    Vec2i v;
    v.init(x, y);
    int h = __vec_next++;
    __vec_pool[h] = v;
    return h;
}

void printInt(int x) {
    printf("%d", x);
}

void writeByte(int c) {
    printf("%c", c);
}

void printValue(int n) {
    printInt(n);
    writeByte(10);
}

void printValueVec(int h) {
    Vec2i *v = &__vec_pool[h];
    writeByte('x');
    writeByte('=');
    printInt(v->x);
    writeByte(',');
    writeByte('y');
    writeByte('=');
    printInt(v->y);
    writeByte(10);
}

int sum(List<int> a) {
    int n = 0;
    int s_handle = makeVec2i(0, 0);
    while (n < a.count) {
        int v_handle = a[n];
        Vec2i *s = &__vec_pool[s_handle];
        Vec2i *v = &__vec_pool[v_handle];
        int tmp = makeVec2i(s->x + v->x, s->y + v->y);
        s_handle = tmp;
        n = n + 1;
    }
    return s_handle;
}

int main() {
    List<int> vn = new List<int>();
    vn.init();

    int n = 0;
    while (n < 20) {
        vn.add(n);
        n = n + 1;
    }
    vn.printValues();

    List<int> vv = new List<int>();
    vv.init();

    __vec_pool = malloc(2048 * 24);

    n = 0;
    while (n < 20) {
        vv.add(makeVec2i(n, 20 - n));
        n = n + 1;
    }

    int _i = 0;
    while (_i < vv.count) {
        printValueVec(vv.arr[_i]);
        _i = _i + 1;
    }

    int sum_int = sum(vn);
    printInt(sum_int);
    writeByte(10);

    int sum_vec = sum(vv);
    printInt(__vec_pool[sum_vec].x);
    writeByte(',');
    printInt(__vec_pool[sum_vec].y);
    writeByte(10);

    return 0;
}
